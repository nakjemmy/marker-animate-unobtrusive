/* MarkerWithGhost v0.2.8 24-05-2021 (C) 2015 Terikon Apps */

!function(t,i){"use strict";"function"==typeof define&&define.amd?define(["jquery","SlidingMarker"],i.bind(null,t)):"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=i(0,require("jquery"),require("SlidingMarker")):t.MarkerWithGhost=i(0,t.jQuery,t.SlidingMarker)}(this,function(t,i,n){"use strict";(i=i||{}).extend=i.extend||function n(o){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var i in t)!t[i]||t[i].constructor!==Object||o[i]&&o[i].constructor!==Object?o[i]=t[i]:(o[i]=o[i]||{},n(o[i],t[i]))}),o};function o(t){this.ghostPosition=null,this.ghostAnimationPosition=null,n.call(this,t),this.bindTo("ghostPosition",this,"position"),this.bindTo("ghostAnimationPosition",this._instance,"position")}var e,s;function r(){}return e=o,r.prototype=(s=n).prototype,e.superClass_=s.prototype,e.prototype=new r,e.prototype.constructor=e,i.extend(o.prototype,{_isGhost:!1,set:function(t,i){if("position"===t)this._turnGhostModeOff();else if("ghostPosition"===t)return this._turnGhostModeOn(),this.originalSet("ghostPosition",i),void n.prototype._setInstancePositionAnimated.call(this,i);n.prototype.set.apply(this,arguments)},_rebindEventListener:null,_turnGhostModeOn:function(){this._isGhost||(this._rebindEventListener||(google.maps.event.removeListener(this._rebindEventListener),this._rebindEventListener=null),this.unbind("animationPosition"),this.unbind("ghostPosition"),this._isGhost=!0)},_turnGhostModeOff:function(){var t=this;this._isGhost&&(this._rebindEventListener=google.maps.event.addListener(this._instance,"position_changed",function(){t.getPosition()===t._instance.getPosition()&&(t.bindTo("animationPosition",t._instance,"position"),google.maps.event.removeListener(t._rebindEventListener),t._rebindEventListener=null)}),this.bindTo("ghostPosition",this,"position"),this._isGhost=!1)},getGhostPosition:function(){return this.get("ghostPosition")},setGhostPosition:function(t){this.set("ghostPosition",t)},getGhostAnimationPosition:function(){return this.get("ghostAnimationPosition")},position_changed:function(){this._turnGhostModeOff(),n.prototype.position_changed.apply(this,arguments)}}),o.initializeGlobally=function(){google.maps.Marker=o},o});
//# sourceMappingURL=MarkerWithGhost.min.js.map